<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <title>CoffeScript on browser</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>
</head>
<body>

<div class="container-fluid">

  <div class="jumbotron">
    <h1 class="display-1">CoffeScript in Browser</h1>      
    <p></p>
  </div>

  <div class="row">
    <div class="col bg-success">
         <div id="input" class="display-3">...</div>
    </div>
    <div class="col bg-warning"> 
         <div id="output" class="display-3">...</div>
    </div>
    <div class="col bg-success">
    <h1 class="display-5 text-warning">Greatest Common Divisor</h1> 

    <div class="form-group">
      <input id="a" type="text" class="form-control" placeholder="x = " style="width: 100px">
    </div>
    <div class="form-group">
      <input id="b" type="text" class="form-control" placeholder="y = " style="width: 100px">
    </div>
    <button id="button" class="btn btn-primary">Run</button>
    <div class="display-3" id="c"/>
    </form>

    </div>
  </div>
</div>

<script type="text/coffeescript">
       
  $ = (id) ->

      return document.getElementById( id ) 

  class Algorithm
 
        constructor: ->

        sqr: (x) ->

               return x * x

        cube: (x) ->

               return this.sqr(x) * x   

        Euclid: (x, y) ->

               return this.gcd x, y 
          
        gcd: (x, y) ->

            if y is 0 then x else this.gcd(y, x % y)

        sort: (data) ->

              return this._cs data

        _bs: (data) ->
              
              finished = 0

              size = data.length
              
              while finished is 0

                    swapped = 0

                    for i in [0...size - 1]

                        if data[i] > data[i+1]

                           holder = data[i]

                           data[i] = data[i+1]

                           data[i+1] = holder

                           swapped = 1

                    if swapped is 1 then size-- else finished = 1

              return data

         _cs: (data) ->
              
              shrinkFactor = 1.3

              swapped = 0

              gap = data.length

              while gap > 1 or swapped is 1 

                    swapped = 0

                    if gap > 1 then gap = parseInt gap / shrinkFactor

                    i = 0

                    while i + gap < data.length

                          if data[i] > data[i+gap]

                                     holder = data[i]

                                     data[i] = data[i+1]

                                     data[i+1] = holder

                                     swapped = 1
                          i++       

              return data
                    
   input = [9,8,7,6,5,4,3,2,-1,0]

   $("input").innerHTML = "Input -> " + input

   get = new Algorithm
   
   out = get.sort input

   $("output").innerHTML = "<br/> Output -> "+ out

   console.log get.Euclid 100, 4

   jQuery("#button").click ->
 
      a = jQuery("#a").val() 

      b = jQuery("#b").val() 

      jQuery("#c").html get.Euclid a, b
                           
</script>
<script src="https://cdn.rawgit.com/jashkenas/coffeescript/1.11.1/extras/coffee-script.js">
</script>
</body>
</html>
